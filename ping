#include <stdio.h>
#include <stdbool.h>

bool is_boundary( int x, int y, int rows, int cols ) {
    return ( x == 0  x == cols - 1  y == 0  y == rows - 1 );
}

bool reverse( int x, int boundary ) {
    return x == 1  x == boundary - 2;
}

int main() {
    const int rows = 10;
    const int cols = 20;
    int ball_x = 4, ball_y = 7;
    int vel_x = 1, vel_y = 1;

    while ( 1 ) {
        for ( int y = 0; y < rows; y++ ) {
            for ( int x = 0; x < cols; x++ ) {
                if ( is_boundary( x, y, rows, cols ) )
                if (( x==19 && y==0)  ( x==0 && y==0)( x==0 && y==9) || ( x==19 && y==9))

                {
                    printf( "#" ); }
                else

                 {
                    printf( "X" );
                } 

                else {
                    if ( x == ball_x && y == ball_y ) {
                        printf( "O" );
                    } else {
                        printf( " " );
                    }
                  }
            }
            printf( "\n" );
        }

        if ( reverse( ball_x, cols ) ) {
            vel_x *= -1;
        }
        if ( reverse( ball_y, rows ) ) {
            vel_y *= -1;
        }

        ball_x += vel_x;
        ball_y += vel_y;

        usleep( 100 * 8000 );
        printf( "\e[1;1H\e[2J\n" );
        printf("Ping pong !\n");

}
printf( "\n\n\n" );
    return 0;
}
